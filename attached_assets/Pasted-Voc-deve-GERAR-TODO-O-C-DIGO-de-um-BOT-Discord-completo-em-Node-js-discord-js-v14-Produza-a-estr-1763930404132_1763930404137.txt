Você deve GERAR TODO O CÓDIGO de um BOT Discord completo em Node.js (discord.js v14). Produza a estrutura de arquivos e todo o conteúdo dos arquivos, prontos para copiar/colar no Replit. Gere código limpo, comentado e funcional. NÃO gere apenas instruções — gere o código. Siga estritamente todas as especificações abaixo.

------------------------------
REQUISITOS GERAIS
------------------------------
- Linguagem: Node.js
- Biblioteca: discord.js v14
- Projeto organizado em pastas: commands/, events/, handlers/, systems/tournament/, utils/, data/
- Arquivos mínimos a gerar: index.js, deploy-commands.js, database.js (ou data/ json handlers), todos os comandos e handlers necessários.
- Persistência simples: arquivos JSON em /data (config.json, simuladores.json, bans.json, rank_global.json, rank_local/{guildId}.json, servers_banidos.json).
- Comentários explicando cada bloco de código.
- Todas as respostas do BOT devem ser EM EMBED (nada em mensagem simples) e todos os embeds devem ter cor VERMELHA (#FF0000).
- O BOT só pode usar estes emojis (textualmente no conteúdo das mensagens): 
  :trofeu: :coroa: :fogo: :espadas: :positive: :negative: :presente: :xp: :carregando: :workshop: :gemas:
  (nenhum outro emoji deve aparecer no código ou nas respostas).
- Botões principais (ações primárias) devem ser estilizados como primários (considere theming; no cores reais em API -> explique que serão primários) e botões secundários como secundários (cinza).
- Todos os embeds devem incluir a imagem/banner do servidor (use guild.iconURL() ou guild.bannerURL() se disponível).
- Defina uma constante OWNER_ID no código (variável no topo) para o dono do bot; alguns comandos só o dono pode usar.

------------------------------
PERMISSÕES E SETUP
------------------------------
- Comando /setup (apenas administradores do servidor podem executar) que abre um select-menu de cargos ou recebe roleId e salva em data/config.json para a guild:
  data/config.json example:
  {
    "<guildId>": { "simuCreatorRole": "<roleId>" }
  }
- Após /setup, apenas membros com o cargo configurado poderão criar simuladores.

------------------------------
COMANDOS DE SIMULADOR (GERAIS)
------------------------------
- /simulador1v1 jogo: string versao: string modo: string quantidade: integer premio: string(optional)
- /simulador2v2 jogo: string versao: string modo: string jogadores: integer premio: string(optional)
- /simulador3v3 ...
- /simulador4v4 ...
(Para simplicidade, gere 4 commands separados ou um handler que aceite modo. Todos gravados com deploy-commands.js)

Validação obrigatória de quantidade por modo:
- 1v1 aceita apenas: 4, 8, 16, 32, 64
- 2v2 aceita apenas: 4, 8, 16, 32, 64 (divisível por 2)
- 3v3 aceita apenas: 6, 12, 24, 48, 96 (divisível por 3)
- 4v4 aceita apenas: 8, 16, 32, 64 (divisível por 4)
Se inválido: retornar embed vermelho com título ":negative: Quantidade inválida" e listar valores aceitos; cancelar a criação.

Ao criar simulador válido:
- Verificar se autor tem o cargo configurado no /setup; se não tiver, reply embed ":negative: Você não tem permissão."
- Criar um canal de texto exclusivo para o simulador (nome legível, ex: simulador-<ID> ou simulador-<jogo>-<id>).
- Salvar o simulador em data/simuladores.json com estrutura contendo:
  id, guildId, channelId, creatorId, mode, jogo, versao, maxPlayers, players:[], prize, createdAt, timeoutId (ou timestamp), bracketData, categoryId (quando criada), state (open/started/finished/cancelled).

PAINEL DE ENTRADA (embed no canal do simulador):
- Embed vermelho com:
  • Título: ":fogo: Simulador {modo} – {jogo}"
  • Campos: Jogo, Versão, Modo, Prêmio (ou "Nenhum"), Jogadores: X/Y
  • Lista de participantes com @mentions, formatadas:
    > <@user1>
    > <@user2>
  • Rodapé: :carregando: Aguardando jogadores...
  • Imagem: guild.iconURL() ou banner
- Componentes (botões) no embed principal:
  [ Entrar ] (primary / vermelho)
  [ Sair ] (secondary / cinza)
  [ Cancelar Simulador ] (secondary / cinza) — *este botão aparece apenas no PAINEL PRINCIPAL* e só pode ser clicado por criador do simulador ou dono do servidor. Ao clicar, apaga canais e limpa dados (ver detalhes abaixo).

TIMEOUT DE INSCRIÇÃO:
- Se o simulador NÃO lotar em *6 minutos (360000 ms)* após a criação, o bot cancela automaticamente:
  • Editar painel com embed vermelho informando ":negative: Simulador cancelado por falta de jogadores."
  • Apagar a categoria e canais (se houver)
  • Limpar dados do simulador em data/simuladores.json
  • Notificar criador via DM (se possível)
Implementar cron/timeout com setTimeout e persistência de timestamp para restaurar após restart (se desejar, mas mínimo: cancelar com setTimeout).

Entrada / Saída:
- Ao clicar Entrar:
  • Verificar bans (data/bans.json para guild)
  • Verificar se já está na lista
  • Verificar se lotado
  • Adicionar usuário em simulador.players (store id)
  • Atualizar painel (Jogadores x/y e lista com mentions)
- Ao clicar Sair:
  • Remover e atualizar painel

------------------------------
QUANDO LOTAR
------------------------------
- Ao atingir maxPlayers:
  • Atualizar painel indicando "Simulador completo" (embed vermelho)
  • Criar categoria: "Simulador – <ID ou Jogo>" (nome com emoji opcional, mas lembre-se emojis permitidos)
  • Gerar automaticamente os brackets (pares de confronto) conforme número total e modo. Calcule times = jogadoresTotal ÷ playersPerTeam.
  • Criar canais por confronto (ex: quartas-1, quartas-2, semifinal-1, final etc.) dentro da categoria.
  • Em cada canal, enviar uma mensagem / embed com:
      - Conteúdo: "<@playerA> vs <@playerB>"
      - Embed vermelho com imagem do servidor
      - Componentes: três botões:
         [ Vencedor <playerA> ] (primary / vermelho)
         [ Vencedor <playerB> ] (primary / vermelho)
         [ W.O. ] (secondary / cinza)
      • *Somente o criador do simulador* pode clicar nos botões de Vencedor ou em W.O. (ou dono do servidor se quiser; seguir regra: criador OU dono para ações sensíveis).

Flow W.O.:
- Quando criador clica em W.O. no painel da partida:
  • Bot envia novo embed perguntando "De quem é o W.O.?" com dois botões:
     [ W.O. para <playerA> ] (primary/vermelho)
     [ W.O. para <playerB> ] (primary/vermelho)
  • Após o clique do criador, registrar o W.O. como vitória do outro player (o que NÃO recebeu W.O.) e avançar bracket automaticamente (fechar canal, atualizar próximo confronto).
  • Se W.O. for para playerA, então playerB avança.

Escolher Vencedor:
- Se criador clicar em "Vencedor <playerX>":
  • Registrar vencedor no bracketData
  • Avançar automaticamente o player/time para o próximo confronto (criar/atualizar canal do próximo round se necessário)
  • Fechar o canal anterior (ou arquivar mensagem)
  • Atualizar o painel principal com mensagens do tipo:
      ":trofeu: O vencedor da semifinal foi: <@user>"
      ":coroa: A final será: <@x> vs <@y>"

Final:
- Quando restar 1 campeão:
  • Enviar embed final no canal do simulador e no painel principal:
     Título: ":coroa: CAMPEÃO DO SIMULADOR"
     Descrição: ":trofeu: Vencedor: <@user>\nPrêmio: {prêmio ou 'Nenhum'}"
  • Atualizar rank:
     – Se guild.memberCount >= 200: adicionar pontos em rank_local (guild) e rank_global
     – Se guild.memberCount < 200: adicionar somente em rank_local
  • Apagar todos os canais da categoria e a categoria após 5 segundos
  • Limpar dados do simulador

------------------------------
COMANDO /desbugar
------------------------------
- Uso: /desbugar <simuladorId?> (opcional id; se omitido, desbuga o simulador do canal atual se existir)
- Ação: Apagar manualmente canais relacionados, a categoria e limpar dados do simulador preso.
- Apenas o criador do simulador OU o dono do servidor pode executar.
- Resposta: embed vermelho ":positive: Simulador desbugado com sucesso."

------------------------------
COMANDO /banir_simu
------------------------------
- Uso: /banir_simu <@user>
- Ação: Banir o usuário de participar de simuladores NESTE SERVIDOR.
- Persistência: data/bans.json com formato:
  { "<guildId>": { "<userId>": true } }
- Se usuário banido tentar entrar, resposta embed vermelho: ":negative: Você está banido de simuladores neste servidor."

------------------------------
RANKS E SCOREBOARD
------------------------------
- Armazenar rank_local por guild em data/rank_local/<guildId>.json com estrutura { userId: { points: number, wins: number, tournaments: number } }
- rank_global.json com mesma estrutura agregada
- Critério de adição: somente vencedores ganham pontos; defina uma lógica simples (ex: +100 pontos por torneio, +10 por vitória de partida) — documente no código.
- Importante: o sistema só adiciona pontos ao rank_global se guild.memberCount >= 200; caso contrário, somente local.
- Comando: /rank_simu rank:(global|local)
  • Se global: mostrar top 10 do rank_global.json
  • Se local: mostrar top 10 do rank_local/<guildId>.json
  • Embeds vermelhos, mostrar avatar, posição e pontos.

------------------------------
COMANDOS DO DONO/DEV DO BOT
------------------------------
Esses comandos só executáveis pelo OWNER_ID:

- /sair_server <serverId>
  • Bot sai do servidor com aquele ID

- /banir_server <serverId>
  • Salva o serverId em data/servers_banidos.json e impede que o bot seja convidado (logicamente: impede operações administrativas; explique no README)

- /servidores
  • Envia embed (ou múltiplos, paginados) com lista dos servidores onde o bot está:
    - Nome
    - ID
    - Logo (guild.iconURL())
    - Convite (tentar gerar um invite do bot se o bot tiver perms; caso contrário, mostrar "sem invite")
    - Member count

OBS: Apenas OWNER_ID pode ver os dados de banco de cada servidor (por exemplo, rota para ver o banco de um servidor — gere um comando /meus_dados_servidor <guildId> restrito ao dono do bot).

------------------------------
ESTRUTURA DO PROJETO (arquivos e pastas gerados)
------------------------------
- index.js (inicia o client, carrega handlers)
- deploy-commands.js (registra slash commands)
- commands/
  - setup.js
  - simulador1v1.js
  - simulador2v2.js
  - simulador3v3.js
  - simulador4v4.js
  - desbugar.js
  - banir_simu.js
  - rank_simu.js
  - (dev) sair_server.js
  - (dev) banir_server.js
  - (dev) servidores.js
- events/
  - ready.js
  - interactionCreate.js
  - guildCreate.js
  - guildDelete.js
- handlers/
  - commandHandler.js
  - buttonHandler.js
- systems/tournament/
  - bracket.js (funções para gerar e avançar brackets)
  - manager.js (funções para criar simulador, adicionar player, iniciar, finalizar)
- utils/
  - jsonDB.js (leitura/gravação segura de arquivos JSON)
  - embeds.js (funções helpers para criar embeds padronizados vermelhos)
- data/
  - config.json
  - simuladores.json
  - bans.json
  - rank_global.json
  - rank_local/
  - servers_banidos.json

------------------------------
REGRAS E COMPORTAMENTOS ADICIONAIS
------------------------------
- O botão "Cancelar Simulador" apareceria APENAS no painel principal (não nos canais de bracket) e só criador / dono do servidor pode acionar; ação: apagar categoria e canais, limpar dados.
- O painel de cada confronto terá apenas 3 botões: Vencedor <player1>, Vencedor <player2>, W.O.
- Ao clicar em W.O., o bot envia outro embed com BOTOES: W.O. para <player1> e W.O. para <player2>, para confirmar de quem será o W.O.; apenas o criador pode confirmar.
- Se um jogador for removido/banido/saír do servidor antes de partida, o criador pode usar W.O. para avançar o adversário (ou usar /desbugar se travou).
- O bot deve tentar tratar reinícios: salvar timestamps de criação do simulador; se quiser, ao iniciar, revalidar if any simulador expirado pelo timeout de 6 minutos e cancelá-los. (Implementação mínima: setTimeout funciona durante runtime; persistência de timeout após crash é desejável mas não obrigatória.)
- Forneça mensagens de erro claras por embed vermelho (permissão, já inscrito, banido, lotado, etc.).

------------------------------
SAÍDA/ENTREGA
------------------------------
- Gere todo o código-fonte dos arquivos listados acima. Cada arquivo deve ser mostrado por completo no output, com comentários e instruções de instalação (README breve): npm init, npm i discord.js@14, configurar .env com BOT_TOKEN e OWNER_ID, rodar node index.js.
- Garanta que os comandos slash sejam registrados pelo deploy-commands.js.
- Garanta tratamento de interações de botões via buttonHandler (component customIds claros e documentados).
- Inclua exemplos de dados iniciais nos JSON (ex.: config.json vazio, simuladores.json vazio, etc.).
- Explique no topo do README como testar localmente no Replit (onde colar token, como rodar deploy-commands).

==============================
FIM DO PROMPT — Gere o CÓDIGO AGORA
==============================